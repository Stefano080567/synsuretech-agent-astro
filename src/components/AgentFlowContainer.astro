---
/*
  DEMO – STABLE BASELINE
  - No React
  - No Lovable
  - No external JS
  - Pure Astro + Vanilla JS
*/
---

<style>
  :root {
    --brand-blue: #1f5cff;
    --text-main: #111;
    --bg-card: #fafafa;
    --border-soft: #e6e6e6;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, Inter, Arial, sans-serif;
  }

  .container {
    max-width: 900px;
    margin: 80px auto;
    padding: 0 24px;
    text-align: center;
  }

  .card {
    background: var(--bg-card);
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.05);
  }

  h2 {
    font-size: 28px;
    margin-bottom: 16px;
    color: var(--text-main);
  }

  p {
    font-size: 17px;
    line-height: 1.6;
    color: #333;
  }

  .nav {
    margin-top: 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  button {
    padding: 10px 22px;
    border-radius: 999px;
    font-size: 15px;
    border: none;
    cursor: pointer;
  }

  button.primary {
    background: var(--brand-blue);
    color: #fff;
  }

  button.secondary {
    background: #f0f0f0;
    color: #777;
  }

  button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .dots {
    margin-top: 24px;
  }

  .dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    margin: 0 4px;
    border-radius: 50%;
    background: #ccc;
  }

  .dot.active {
    background: var(--brand-blue);
  }
</style>

<div class="container">
  <div class="card">
    <div id="stepContent"></div>

    <div class="nav">
      <button id="backBtn" class="secondary">Back</button>

      <button id="nextBtn" class="primary">Next</button>
    </div>

    <div class="dots" id="dots"></div>
  </div>
</div>

<script>
  const steps = [
    {
      title: "Why WikiSure™ Exists",
      body: `
        <p>
          Modern ecosystems move fast — but speed alone is not enough.
          Alignment, clarity and shared understanding determine whether
          partners can execute reliably across organizations.
        </p>
        <p>
          WikiSure™ makes key decisions explicit.
          AI can assist — but humans stay in the driver’s seat.
        </p>
      `
    },
    {
      title: "Demo Context",
      body: `
        <p>
          This demo shows a governed definition flow in an
          embedded insurance context.
        </p>
        <p>
          Perspective: Platform provider working with insurers
          and distribution partners.
        </p>
      `
    },
    {
      title: "Term Selection",
      body: `
        <p>
          Partners often use the same terms — but mean different things.
        </p>
        <p>
          Example term: <strong>Embedded Insurance Consent</strong>
        </p>
      `
    },
    {
      title: "Definition",
      body: `
        <p><strong>Current definition:</strong></p>
        <p>
          Consent is collected during onboarding and stored
          for later insurance activation.
        </p>
        <br/>
        <p><strong>Proposed definition:</strong></p>
        <p>
          Consent is explicitly requested at activation,
          timestamped, scoped and shared with all partners.
        </p>
      `
    },
    {
      title: "Validation",
      body: `
        <p>
          The proposed definition is reviewed for clarity,
          responsibility and compliance impact.
        </p>
        <p>
          Outcome: <strong>PASS</strong>
        </p>
      `
    },
    {
      title: "Decision",
      body: `
        <p>
          The definition is now governed and reusable
          across integrations and partners.
        </p>
        <p>
          Decisions are documented. Ownership is clear.
        </p>
      `
    }
  ];

  let current = 0;

  const content = document.getElementById("stepContent");
  const backBtn = document.getElementById("backBtn");
  const nextBtn = document.getElementById("nextBtn");
  const dots = document.getElementById("dots");

  function render() {
    content.innerHTML = `
      <h2>${steps[current].title}</h2>
      ${steps[current].body}
    `;

    backBtn.disabled = current === 0;
    nextBtn.disabled = current === steps.length - 1;

    dots.innerHTML = "";
    steps.forEach((_, i) => {
      const d = document.createElement("span");
      d.className = "dot" + (i === current ? " active" : "");
      dots.appendChild(d);
    });
  }

  backBtn.onclick = () => {
    if (current > 0) {
      current--;
      render();
    }
  };

  nextBtn.onclick = () => {
    if (current < steps.length - 1) {
      current++;
      render();
    }
  };

  render();
</script>
