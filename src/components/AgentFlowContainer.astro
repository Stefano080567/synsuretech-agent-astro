---
const steps = [
  { id: 1, title: "Why" },
  { id: 2, title: "Context" },
  { id: 3, title: "Term" },
  { id: 4, title: "Definition" },
  { id: 5, title: "Validation" },
  { id: 6, title: "Decision" }
];

let currentStep = 4; // ‚Üê Demo steht bewusst auf Definition
---

<section class="flow-container">

  <!-- STEP TITLE -->
  <h2 class="stepTitle">
    Step {currentStep}: {steps.find(s => s.id === currentStep)?.title}
  </h2>

  <!-- STEP CONTENT -->
  {currentStep === 4 && (
    <div class="definition-grid">
      <div class="definition-card baseline">
        <div class="definition-label">Current Definition</div>
        <div class="definition-text">
          Consent is collected during the user onboarding process and stored
          by the platform provider for later insurance activation.
        </div>
      </div>

      <div class="definition-card proposed">
        <div class="definition-label">Proposed Definition</div>
        <div class="definition-text">
          Consent is explicitly requested at the moment of insurance activation,
          recorded with timestamp and scope, and shared with all involved parties
          to ensure traceability and accountability.
        </div>
      </div>
    </div>
  )}

  {currentStep === 6 && (
    <div class="decision-box">
      <strong>Decision Outcome</strong>
      <p>
        The proposed definition is accepted. Implementation may proceed with
        shared understanding and clear responsibility.
      </p>
    </div>
  )}

  <!-- NAVIGATION -->
  <div class="flow-nav">
    <button disabled>
      Back
    </button>

    <button class="primary">
      Next
    </button>
  </div>

</section>

<style>
/* ===== Container ===== */
.flow-container {
  max-width: 880px;
  margin: 0 auto;
  padding: 40px 24px;
  display: flex;
  flex-direction: column;
  gap: 32px;
}

/* ===== Title ===== */
.stepTitle {
  font-size: 22px;
  font-weight: 600;
  letter-spacing: -0.02em;
  color: #1d1d1f;
}

/* ===== Definition Grid ===== */
.definition-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
}

@media (max-width: 768px) {
  .definition-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
}

/* ===== Definition Cards ===== */
.definition-card {
  border-radius: 14px;
  padding: 22px 24px 26px;
  border: 1px solid rgba(0,0,0,0.08);
}

.definition-card.baseline {
  background: #f5f5f7;
}

.definition-card.proposed {
  background: #ffffff;
  border-color: rgba(0,0,0,0.12);
}

/* ===== Labels & Text ===== */
.definition-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #6e6e73;
  margin-bottom: 10px;
}

.definition-text {
  font-size: 15px;
  line-height: 1.5;
  color: #1d1d1f;
}

/* ===== Decision ===== */
.decision-box {
  background: #ffffff;
  border-radius: 16px;
  padding: 24px;
  border: 1px solid rgba(0,0,0,0.1);
}

/* ===== Navigation ===== */
.flow-nav {
  display: flex;
  justify-content: space-between;
  margin-top: 40px;
}

.flow-nav button {
  appearance: none;
  border: none;
  border-radius: 999px;
  padding: 10px 18px;
  font-size: 14px;
  font-weight: 500;
  background: #f5f5f7;
  color: #1d1d1f;
  cursor: pointer;
}

.flow-nav button.primary {
  background: #0066ff;
  color: #ffffff;
}

.flow-nav button:disabled {
  opacity: 0.4;
  cursor: default;
}
</style>
